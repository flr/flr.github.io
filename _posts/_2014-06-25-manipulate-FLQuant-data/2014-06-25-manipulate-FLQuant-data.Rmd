---
  layout: post
  title: Manipulating data inside an FLQuant
  date: 2014-05-22 14:32:00 GMT+1
  post_author: Iago Mosqueira
  tags: [FLQuant]
---

Manipulating and modifying values stored inside an *FLQuant* or object can sometimes be difficult given the internal structure of *FLQuant*, a 6-D array, and R's recycling rules.

```{r, echo=FALSE}
library(FLCore)
data(ple4)
```

# Assigning values for a single *age* or *quant*

The (recycling rule in R)[http://cran.r-project.org/doc/manuals/R-intro.html#The-recycling-rule] allows matrices and arrays, or *FLQuant*s, to be filled up with values from a vector with less elements, by reusing the input value until all elements in the target have been filled.

Let's start with an *FLQuant* by *age* and *year*, as in

```{r}
flq <- FLQuant(0.1, dimnames=list(year=2010:2014, age=1:4))
```

and look at how to alter values for a single one of them.

Changing values for a single year in tis object is simple, as R operates by default along the first dimension

```{r}
flq[,'2010'] <- 0.2

flq
```

We can use explicitely use the recycling rule, as in this example, where a vector of length 2 is re-used twice to alter a single year vector

```{r}
flq[,'2010'] <- c(0.2, 0.3)

flq
```

Remember that if the length of the input vector is not a multiple of the items to be replaced, a warning will be issued

```{r}
flq[,'2010'] <- c(0.2, 0.3, 0.4)
```

# Assigning a *year* vctor to all *age*s



```{r}

m(ple4) <- rep(rnorm(52), each=dims(ple4)$age)

```
